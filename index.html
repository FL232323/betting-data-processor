                populateTable('propsTable', data.propStats);
            }
        }

        function populateTable(tableId, data) {
            const table = document.getElementById(tableId);
            table.innerHTML = '';
            
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            Object.keys(data[0]).forEach(key => {
                const th = document.createElement('th');
                th.textContent = key;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);

            const tbody = document.createElement('tbody');
            data.forEach(row => {
                const tr = document.createElement('tr');
                Object.values(row).forEach(value => {
                    const td = document.createElement('td');
                    td.textContent = value;
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
            table.appendChild(tbody);
        }

        function createCharts(data) {
            // Original charts
            createWinLossChart(data);
            createSportsPieChart(data);
            createProfitLineChart(data);
            
            // New category charts
            createTeamChart(data);
            createPlayerChart(data);
            createPropTypeChart(data);
        }

        function createWinLossChart(data) {
            new Chart(document.getElementById('winLossChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Won', 'Lost'],
                    datasets: [{
                        label: 'Win/Loss Ratio',
                        data: [data.stats.wins, data.stats.losses],
                        backgroundColor: ['#28a745', '#dc3545']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Win/Loss Distribution'
                        }
                    }
                }
            });
        }

        function createSportsPieChart(data) {
            new Chart(document.getElementById('sportsPieChart').getContext('2d'), {
                type: 'pie',
                data: {
                    labels: Object.keys(data.stats.sportsDist),
                    datasets: [{
                        data: Object.values(data.stats.sportsDist),
                        backgroundColor: ['#007bff', '#28a745', '#ffc107', '#17a2b8', '#dc3545']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Sports Distribution'
                        }
                    }
                }
            });
        }

        function createProfitLineChart(data) {
            new Chart(document.getElementById('profitLineChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: data.stats.profitTimeline.dates,
                    datasets: [{
                        label: 'Cumulative Profit',
                        data: data.stats.profitTimeline.profits,
                        borderColor: '#28a745',
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Profit Over Time'
                        }
                    }
                }
            });
        }

        function createTeamChart(data) {
            const teams = Object.keys(data.stats.teamPerformance);
            const wins = teams.map(team => data.stats.teamPerformance[team].wins);
            const losses = teams.map(team => data.stats.teamPerformance[team].losses);

            new Chart(document.getElementById('teamWinLossChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: teams,
                    datasets: [
                        {
                            label: 'Wins',
                            data: wins,
                            backgroundColor: '#28a745'
                        },
                        {
                            label: 'Losses',
                            data: losses,
                            backgroundColor: '#dc3545'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Team Performance'
                        }
                    },
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true
                        }
                    }
                }
            });
        }

        function createPlayerChart(data) {
            const players = Object.keys(data.stats.playerPerformance);
            const wins = players.map(player => data.stats.playerPerformance[player].wins);
            const losses = players.map(player => data.stats.playerPerformance[player].losses);

            new Chart(document.getElementById('playerWinLossChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: players,
                    datasets: [
                        {
                            label: 'Wins',
                            data: wins,
                            backgroundColor: '#28a745'
                        },
                        {
                            label: 'Losses',
                            data: losses,
                            backgroundColor: '#dc3545'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Player Performance'
                        }
                    },
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true
                        }
                    }
                }
            });
        }

        function createPropTypeChart(data) {
            const propTypes = Object.keys(data.stats.propPerformance);
            const wins = propTypes.map(prop => data.stats.propPerformance[prop].wins);
            const losses = propTypes.map(prop => data.stats.propPerformance[prop].losses);

            new Chart(document.getElementById('propTypeChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: propTypes,
                    datasets: [
                        {
                            label: 'Wins',
                            data: wins,
                            backgroundColor: '#28a745'
                        },
                        {
                            label: 'Losses',
                            data: losses,
                            backgroundColor: '#dc3545'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Prop Type Performance'
                        }
                    },
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>